"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3004],{85716:function(e,l,t){var i=t(5152),n=t.n(i);l.Z=n()(()=>t.e(7657).then(t.bind(t,47657)),{loadableGenerated:{webpack:()=>[47657]}}),n()(()=>t.e(7657).then(t.bind(t,47657)).then(e=>e.StyledNoResults),{loadableGenerated:{webpack:()=>[47657]}})},33004:function(e,l,t){t.r(l),t.d(l,{default:function(){return ee}});var i=t(85893),n=t(38972),s=t(67294),a=t(60441),o=t(86800),r=t(16863),d=t(26315),u=t(87212),c=t(77522),h=t(16980),g=t(75459),v=t(49053),p=t(50564),m=t(85716),f=t(48082),_=t(32954),y=t(28477),x=t(31401),Z=t(4061),b=t(31024),S=t(45697),j=t.n(S),w=t(50661),E=t(76219),C=t(73908),M=t(49092),k=t(50223);let A=(0,w.ZP)(k.Z).attrs({as:"a",$family:"medium",$fontSize:"14px"}).withConfig({componentId:"sc-78208f79-0"})(["cursor:pointer;margin-top:8px;"]),T=w.ZP.div.withConfig({componentId:"sc-78208f79-1"})(["display:flex;margin-top:40px;margin-bottom:12px;max-width:100%;width:100%;.image-wrapper{height:80px;background:",";margin-right:16px;img{max-width:100%;}}","{display:flex;flex-direction:column;align-self:center;font-size:18px;","{font-size:17px;}","{font-size:16px;}}","{margin-top:12px;align-self:flex-start;font-size:14px;}"],(0,E.rS)("palette.imageTeaser.placeholder"),k.Z,M.PJ,M.Mq,A),N=e=>{let{imageSrc:l,imageAlt:t,width:n,...s}=e;return(0,i.jsxs)(T,{...s,children:[(0,i.jsx)("div",{className:"image-wrapper",children:l&&(0,i.jsx)("img",{alt:t,src:l,height:"80",width:n})}),(0,i.jsxs)(k.Z,{$family:"base",children:[(0,i.jsx)(C.c,{i18nKey:"similarimage-001",children:"Similar images"}),(0,i.jsx)(A,{onClick:e=>{e.preventDefault(),window.history.back()},children:(0,i.jsx)(C.c,{i18nKey:"similarimage-002",children:"Back"})})]})]})};N.propTypes={imageAlt:j().string.isRequired,imageSrc:j().string.isRequired};var I=t(71057),G=t(2408),R=t(30349),O=t(8394),F=t(60704),L=t(21928),z=t(69211),P=t(83047),$=t(94621),D=t(12397),B=t(869),H=t(9884),K=t(54857),U=t(77673),q=t(28332),Q=t(31841),W=t(98719),J=t(41501),Y=t(28082),V=t(63799),X=t(8468),ee=e=>{var l,t,S,j,w,E,M,A,T,ee,el,et,ei;let{user:en,userIsFetched:es,searchQueries:ea,searchTerm:eo,topicEntity:er,topicEntityIsFetched:ed,topicEntityIsLoading:eu,feed:ec,hasSimilarImage:eh,similarImageQuery:eg,seoLoaded:ev,blurb:ep,blurbTitlePart:em,setShowSearchDrawer:ef,showSearchDrawer:e_,setMobileFiltering:ey,setMobileFilterCount:ex,hasMobileLinks:eZ,isBoostPage:eb,handleBoostSearch:eS,sidebarState:ej,searchTermIsSpam:ew=!1,showcasedImages:eE,showcasedImagesLoading:eC=!1,isDesktop:eM,hasHydrated:ek}=e,eA=(0,C.$)(),{queries:eT}=(0,J.Z)(),{showRawpixelTeam:eN}=(0,Q.ZP)(),eI=(0,H.I8)(),eG=(0,K.EC)(),[eR,eO]=(0,s.useState)(!0),{data:eF,isSuccess:eL}=ec,ez=ec.isPending||eC;(0,s.useEffect)(()=>{!ez&&en&&eG.isReady&&eO(!1)},[ez,en,eG.isReady]);let eP=(null===(t=eg.data)||void 0===t?void 0:null===(l=t.results)||void 0===l?void 0:l.length)&&(null===(S=eg.data.results[0])||void 0===S?void 0:S.id)?null===(j=eg.data)||void 0===j?void 0:j.results[0]:null,e$=eh&&(null==eP?void 0:eP.metadata)?null==eP?void 0:eP.metadata.description:"",eD=eh&&eP?Math.round((null==eP?void 0:eP.display_image_width)/(null==eP?void 0:eP.display_image_height)*80):0,eB=eh&&eP?eD>400?(0,D._N)(eP,500):eD>300?(0,D._N)(eP,400):eD>200?(0,D._N)(eP,300):(0,D._N)(eP,200):void 0,{results:eH,total:eK,rpa:eU,pinterest_totals:eq}=eF||{},{page:eQ,totalPages:eW,pageSize:eJ}=(0,s.useMemo)(()=>(0,X.zo)(ea,eF),[eF,ea]),eY=(null==eq?void 0:eq.user_remaining)||0,eV=(null==eF?void 0:eF.spellcheck_result)&&!!(null==eF?void 0:null===(w=eF.spellcheck_result)||void 0===w?void 0:w.suggested_key),[eX,e0]=(0,s.useState)(!1),[e1,e7]=(0,s.useState)(!0),e8=(0,s.useCallback)(e=>{!0===e||!1===e?e0(e):e0(e=>!e)},[]),e4=s.useMemo(()=>{let{isActiveEntityFetching:e}=ej;return!e},[ej]),e2=eM||!ek;(0,s.useEffect)(()=>{(0,y.Q5)()},[eX,e2]),(0,s.useEffect)(()=>{ek&&e1&&es&&e7(!1)},[eT.topic_group,eT.topic,e1,ek,er,es]);let e3=(0,s.useMemo)(()=>{var e;return ek&&((null==eo?void 0:eo.length)||(null==eU?void 0:null===(e=eU.image)||void 0===e?void 0:e.length))?(0,$.x)(JSON.stringify({keys:eo||"",sortedKeys:(null==eU?void 0:eU.image)||""})):null},[eo,null==eU?void 0:eU.image,ek]),e6=ev&&!er&&!eh,e9=(0,s.useCallback)(()=>ef(!1),[ef]),{pathQuery:e5}=ej||{},le=(0,s.useMemo)(()=>{var e,l;return(null===(e=((null==e5?void 0:null===(l=e5.getFilters)||void 0===l?void 0:l.call(e5,"tag","tags_or","color","theme","hearted"))||[]).filter(e=>!("tag"===e.type&&Object.values(q.L).includes(e.value))).map(e=>e.valueArray()).flat())||void 0===e?void 0:e.length)||0},[e5]);(0,s.useEffect)(()=>{e2||(ex(le),ey(le>0))},[e2,le,ey,null==er?void 0:er.id,ex]),(0,n.K)(()=>{var e;es&&en&&(null==eU?void 0:null===(e=eU.image)||void 0===e?void 0:e.length)&&eL&&eI("search",en,{keys:eo&&(null==eo?void 0:eo.length)?ew?eU.search:eo:eU.image,total:eK,sortedKeys:eU.image,parameters:ea}).then().catch()},[en,es,eo,null==eU?void 0:eU.image,eL,eK,ea,ew]),(0,s.useEffect)(()=>{es&&en&&(null==er?void 0:er.id)&&eI("topicview",en,{topicId:er.id,topicType:er.entity_type,viewmode:"search",topicTag:er.tag}).then().catch()},[en,es,null==er?void 0:er.id,null==er?void 0:er.tag,null==er?void 0:er.entity_type,eI]),(0,s.useEffect)(()=>{eF&&es&&eQ&&eL&&eI("feed",en,{feed:"search_feed",action:"view",value:(null==eU?void 0:eU.image)||"",page:eQ,total:eK||0}).then().catch()},[en,es,null==eU?void 0:eU.image,eQ,eF,eK,eL,eI]);let[ll,lt]=s.useMemo(()=>{if(!(null==er?void 0:er.type)&&!(null==er?void 0:er.id))return[null,null];let e=(0,W.S)({widgets:er.widgets,title:er.title,title_long:er.title_long},null,"title");return er.published||(e="".concat(e," (unpublished)")),[e,er.seo_description]},[null==er?void 0:er.id,null==er?void 0:er.published,null==er?void 0:er.seo_description,null==er?void 0:er.title_long,null==er?void 0:er.title,null==er?void 0:er.type,null==er?void 0:er.widgets]),li=(0,s.useMemo)(()=>{if(eb||!(null==er?void 0:er.type))return!1;if("topic_group"===er.type&&er.show_new_button)return!0;if("topic"===er.type){var e,l;let t=new B.Z(eT.path).getLastOfType("group");if((null==t?void 0:t.id)&&(null===(l=er.widgets)||void 0===l?void 0:null===(e=l[t.id])||void 0===e?void 0:e.show_new_button))return!0}return!1},[eb,null==er?void 0:er.type,null==er?void 0:er.show_new_button,null==er?void 0:er.widgets,eT.path]),ln=(0,s.useMemo)(()=>{if(!ek||!es||!eG.isReady||eu)return{visibility:V.A}},[ek,eu,es,eG.isReady]),ls=(0,s.useMemo)(()=>{if(!es||!eG.isReady||!ek||eu||ez&&(eR||li))return{visibility:V.A}},[ek,es,eu,ez,eR,li,eG.isReady]),la=(0,s.useMemo)(()=>{var e;return ek&&(null==eH?void 0:eH.length)>0&&!er&&!eh&&!eo&&!eb&&(null===(e=e5.getFilters("tag","tags_or","color","theme","hearted"))||void 0===e?void 0:e.length)===0},[ek,eh,eb,e5,null==eH?void 0:eH.length,eo,er]),lo=(0,s.useMemo)(()=>{if(la)return(0,U.Z)(eA).map(e=>({...e,action:{...e.action}})).sort(()=>Math.random()-.5).slice(0,4)},[la,eA]);return(0,i.jsxs)(i.Fragment,{children:[eZ&&!eb&&es&&eG.isReady&&!e2&&!er&&!eu&&(0,i.jsx)(I.Z,{sidebarState:ej}),(0,i.jsxs)("div",{className:"search-content",children:[(0,i.jsxs)(g.N4,{className:"results",style:ln,children:[(0,i.jsx)(d.Z,{searchEntity:er,className:"search-wrapper",onImageSearch:eb?eS:null}),!ew&&!eV&&!er&&!eu&&!eb&&!e2&&(null==eo?void 0:eo.length)>0&&(0,i.jsxs)(g.N4,{className:"mobile-seo-description",translate:"no",children:[(0,i.jsx)(k.Z,{as:"h1",$family:"medium",$capitalize:!0,$fontSize:"32px",$textAlign:"center",children:eo}),(null==ep?void 0:ep.length)>0&&(0,i.jsx)(Z.B,{blurbTitlePart:em,blurb:ep})]}),eb&&(0,i.jsx)(f.Z,{}),!eb&&(!!er||!ek||!ed)&&(0,i.jsx)(r.Z,{title:ll,seoDescription:lt,entity:er,analyticsOrigin:"search_header"}),eh&&!!eB&&(0,i.jsx)(N,{imageSrc:eB,imageAlt:e$,width:eD}),e2&&(null==en?void 0:en.plan_period)!==F.Ss.LIFETIME&&!eu&&!er&&((null==eH?void 0:eH.length)||ez)&&!eb&&(!en||(null==en?void 0:en.remaining_lifetime)>0)?(0,i.jsx)(R.Z,{remaining:null==en?void 0:en.remaining_lifetime}):null,ek&&!!en&&eV&&(0,i.jsx)("div",{className:"spellcheck-result",translate:"no",children:(0,i.jsxs)(k.Z,{$family:"base",$fontSize:"16px",children:["No results".concat(ew?"":' for "'.concat((null==eF?void 0:null===(E=eF.spellcheck_result)||void 0===E?void 0:E.searched_key)||"",'"'),". Did you mean "),(0,i.jsx)(k.Z,{as:v.Z,$family:"medium",pathname:"/".concat(eb?"boost":"search","/").concat((null==eF?void 0:null===(M=eF.spellcheck_result)||void 0===M?void 0:M.suggested_key)||""),extra:"".concat(P.Z.COMMON.SORT,"=curated&").concat(P.Z.COMMON.PAGE,"=1"),children:(null==eF?void 0:null===(A=eF.spellcheck_result)||void 0===A?void 0:A.suggested_key)||""}),"?"]})}),!!er&&eN&&!!(null==en?void 0:null===(T=en.access)||void 0===T?void 0:T.show_rawpixel_team)&&ek&&(0,i.jsx)(a.Z,{entity:er}),!!er&&(null==er?void 0:null===(ee=er.assigned_artists)||void 0===ee?void 0:ee.length)>0&&(0,i.jsx)(h.Z,{className:"story-collaborators",children:er.assigned_artists.map((e,l)=>{var t;return(0,i.jsx)(c.Z,{className:"story-collaborator",profile:e,showName:(null===(t=er.assigned_artists)||void 0===t?void 0:t.length)===1},l)})}),!eh&&(0,i.jsx)(b.Z,{topicEntity:er,showSearchFilters:!0,showDefaultFilters:e4,showSidebarCollapseButton:!0,onSidebarCollapseClick:e8,isCollapsed:eX,currentTagsQuery:ea[P.Z.IMAGE.TAGS]||"",queries:ea,urlQueries:eT,pathname:"/".concat(eb?"boost":"search").concat((null==eo?void 0:eo.length)?"/".concat(encodeURIComponent(eo)):"")}),(!!(null==eH?void 0:eH.length)||ez)&&(0,i.jsx)(o.Z,{entity:er,config:eb&&x.zT||x.Vs,images:eH,showcasedImages:eE,analyticsSearchData:e3,showCreateButton:li,style:ls,showCreativeCards:la,creativeCards:lo}),eL&&!eb&&!(null==eH?void 0:eH.length)&&!ez&&(0,i.jsx)(i.Fragment,{children:ea[P.Z.COMMON.FLAGGED_BY]&&(null==en?void 0:en.uid)===0?(0,i.jsx)(p.Z,{type:"favorites-logged-out"}):(0,i.jsx)(p.Z,{type:"image",rawSearchTerm:ew?"":eo})}),eb&&eL&&!(null==eH?void 0:eH.length)&&!ez&&(0,i.jsx)(m.Z,{type:"pinterest-boost"}),(0,i.jsxs)("div",{className:"search-footer",children:[(0,i.jsx)(_.Z,{page:eQ,hideNext:eQ*eJ>=z.E7,pageSize:eJ,disabled:ez,totalPages:eW,totalResults:eb?eY:eK,resultsSearch:eV?null==eF?void 0:null===(el=eF.spellcheck_result)||void 0===el?void 0:el.suggested_key:ew?"":eo,boost:eb&&!ez&&!!eK,pathname:"/".concat(eb?"boost":"search").concat(eV?"/".concat(encodeURIComponent(null==eF?void 0:null===(et=eF.spellcheck_result)||void 0===et?void 0:et.suggested_key)):(null==eo?void 0:eo.length)?"/".concat(encodeURIComponent(eo)):""),style:ln}),!e2&&!eh&&!!eK&&!ez&&(0,i.jsx)(b.Z,{topicEntity:er,showSearchFilters:!1,currentTagsQuery:ea[P.Z.IMAGE.TAGS]||"",queries:ea,pathname:"/".concat(eb?"boost":"search").concat(eV?"/".concat(encodeURIComponent(null==eF?void 0:null===(ei=eF.spellcheck_result)||void 0===ei?void 0:ei.suggested_key)):(null==eo?void 0:eo.length)?"/".concat(encodeURIComponent(eo)):"")}),e6&&eL&&!!eK&&!ew&&(0,i.jsx)("div",{className:"seo-description",children:(0,i.jsx)(Y.Z,{server:!0,children:(null==ep?void 0:ep.length)>0&&(0,i.jsxs)(k.Z,{as:"h1",children:[!!em&&(0,i.jsx)(k.Z,{$family:"medium",children:em}),ep]})})}),e2&&!(null==en?void 0:en.premium)&&!L.y0.includes((null==en?void 0:en.rank)||"")&&!eu&&!er&&(!!(null==eH?void 0:eH.length)||ez&&eR)&&!eb&&(0,i.jsx)(O.Z,{style:ls})]})]}),e2&&(0,i.jsx)(u.Z,{isCollapsed:eX,onCollapse:e8,sidebarState:ej,className:"search-sidebar"}),!e2&&(0,i.jsx)(G.Z,{onClose:e9,open:e_,pathSidebarState:ej})]})]})}},98719:function(e,l,t){t.d(l,{S:function(){return g}});var i=t(85893),n=t(67294),s=t(83047),a=t(74309),o=t(869),r=t(86977),d=t(63727),u=t(83130),c=t(41501);let h=(e,l,t,i,n,s)=>({label:e,tag:l,key:t,searchOption:i,entity:n,...s}),g=function(e,l,t){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!e)return"";if("search_placeholder"===i&&l&&a.CUSTOM_SEARCH_PLACEHOLDER_TITLES[l])return a.CUSTOM_SEARCH_PLACEHOLDER_TITLES[l];if(l){let i=Object.keys(e.widgets).map(l=>e.widgets[l]).find(e=>{let{widget_tag:t}=e;return t===l});return(null==i?void 0:i.title)||t&&e[t]||e.title_long||e.title}return t&&e[t]||e.title_long||e.title};l.Z=function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"body",{queries:t,path:v}=(0,c.Z)(),p=v.startsWith("/create/search"),m=(0,n.useMemo)(()=>new o.Z(t[s.Z.WEB.PATH]),[t]),{filterGroups:f=[]}=(0,u.Z)(),{data:_}=(0,r.B2)(a.AESTHETIC_THEMES_ID),y=(0,n.useMemo)(()=>{var e;return(null==_?void 0:null===(e=_.value)||void 0===e?void 0:e.themes)||[]},[_]),x=n.useMemo(()=>{if("header"===l)return[];let e=t[s.Z.IMAGE.TAGS]?t[s.Z.IMAGE.TAGS].split(",").filter(e=>e!==t.topic&&e!==t.topic_group):[];if(t[s.Z.WEB.PATH]){let l=[...m.getFilters("tag","tags_or","color","theme").map(e=>e.value),...m.getFilters("tags_or").map(e=>e.valueArray()).flat()];e.push(...l.map(e=>String(e))),m.getFilter("hearted")&&e.push(a.LIKES_TAG)}return(t[s.Z.IMAGE.TAGS_OR]&&e.push(...t[s.Z.IMAGE.TAGS_OR].split(",")),t[s.Z.COMMON.FLAGGED_BY]&&e.push(a.LIKES_TAG),e.length)?f.reduce((e,l)=>[...e,...l.filters],[]).map(l=>{if("sizes"===l.tag){let l=d.Z.find(l=>e.includes(l.tag));if(l)return{...l,published:!0}}return l}).filter(l=>l.published&&(e.includes(l.tag)||"sizes"===l.tag&&d.Z.some(l=>e.includes(l.tag)))):[]},[f,t,l,m]);return n.useMemo(()=>{let n=[];if(e){let l=g(e,null,null,"search_placeholder");n.push(h(l,e.tag,"".concat(e.type,"-").concat(e.tag),p?1:0,e))}x.length&&x.forEach(e=>{n.push(h(e.name,e.tag,"".concat(e.name,"-").concat(e.tag),p?1:0,null,{filter:!0}))});let a=t[s.Z.IMAGE.TAGS]?t[s.Z.IMAGE.TAGS].split(",").filter(e=>e!==t.topic&&e!==t.topic_group):[];if("header"!==l){var o,r,d;let e=t[s.Z.IMAGE.COLOR]||(null===(o=m.getFilter("color"))||void 0===o?void 0:o.value);if(e&&(null===(d=e.toString)||void 0===d?void 0:null===(r=d.call(e))||void 0===r?void 0:r.length))n.push(h((0,i.jsxs)("div",{className:"color-tag",children:[(0,i.jsx)("span",{style:{background:e}}),"Color"]}),null,"colorTag-"+e.toString().replace("#",""),p?1:0,null,{filter:!0}));else if(y.length>0&&(null==a?void 0:a.length)>0&&y.some(e=>a.includes(e.tag))){let e=y.find(e=>a.includes(e.tag)),l=e.icon_url;(null==l?void 0:l.length)&&n.push(h((0,i.jsxs)("div",{className:"color-tag",children:[(0,i.jsx)("span",{style:{background:"url(".concat(l,")")}}),"Color"]}),e.tag,"theme-color-".concat(l,"-").concat(e.tag),0,null,{filter:!0}))}else if(m.getFilter("theme")){let e=m.getFilter("theme"),l=y.find(l=>l.tag===e.value).icon_url;(null==l?void 0:l.length)&&n.push(h((0,i.jsxs)("div",{className:"color-tag",children:[(0,i.jsx)("span",{style:{background:"url(".concat(l,")")}}),"Color"]}),e.value,"theme-color-".concat(l,"-").concat(e.value),0,null,{filter:!0}))}}return{placeholders:{},searchTags:n.filter((e,l,t)=>{if(t.findIndex(l=>l.tag===e.tag)===l)return!0}).slice(0,20)}},[e,x,t,l,p,m,y])}}}]);